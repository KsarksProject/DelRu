{"name": "test_check_delo_and_tasks", "status": "failed", "statusDetails": {"message": "AssertionError: Test failed due to: Произошла ошибка при выполнении теста", "trace": "@allure.feature('Делопроизводство')\n    @allure.story('Проверка раздела и списка поручений')\n    @pytest.mark.allure\n    def test_check_delo_and_tasks():\n        with sync_playwright() as p:\n            browser = p.chromium.launch(headless=False)\n            context = browser.new_context()\n            page = context.new_page()\n            page.goto('https://deloros.centrvd.ru/client/#/')\n            page.pause()\n    \n            try:\n                # Авторизация\n                page.fill('#login-user-id', 'a.bardashevich')\n                page.fill('#login-password-id', 'sYSTEM99!')\n                page.click('#loggin-button-id')\n                page.wait_for_load_state('networkidle')\n                page.pause()\n    \n                # Переход в раздел \"Общие папки\"\n                with allure.step(\"Переход в раздел 'Общие папки'\"):\n                    share_link = page.wait_for_selector('text=Общие папки', timeout=10000)\n                    share_link.click()\n                    page.wait_for_load_state('domcontentloaded')  # Ожидание полной загрузки страницы\n                    page.locator(\"#current-context\").get_by_text(\"Общие папки\").nth(1)\n                    print(\"Ссылка 'Общие папки' найдена\")\n    \n                # Переход в раздел \"Избранное\"\n                with allure.step(\"Переход в раздел 'Избранное'\"):\n                    favor_link = page.wait_for_selector('text=Избранное', timeout=10000)\n                    favor_link.click()\n                    page.wait_for_load_state('domcontentloaded')  # Ожидание полной загрузки страницы\n                    print(\"Ссылка 'Избранное' найдена\")\n    \n                # Дополнительные шаги навигации\n                with allure.step(\"Открытие страницы 'Входящие'\"):\n                    page.get_by_role(\"link\", name=\"Входящие\").click()\n    \n                with allure.step(\"Открытие страницы 'На исполнение'\"):\n                    page.get_by_role(\"link\", name=\"На исполнение\").click()\n    \n                with allure.step(\"Открытие страницы 'Исходящие'\"):\n                    page.get_by_role(\"link\", name=\"Исходящие\").click()\n    \n                with allure.step(\"Открытие страницы 'Избранное'\"):\n                    page.get_by_role(\"link\", name=\"Избранное\").click()\n    \n                with allure.step(\"Клик по элементу с id '#favorites-folder-view'\"):\n                    page.locator(\"#favorites-folder-view\").click()\n    \n                with allure.step(\"Клик по ссылке 'Замещение'\"):\n                    page.locator(\"a\").filter(has_text=\"Замещение\").click()\n    \n                with allure.step(\"Открытие страницы 'Д Делопроизводство'\"):\n                    page.get_by_role(\"link\", name=\"Д Делопроизводство\").click()\n    \n                with allure.step(\"Открытие страницы 'С Совещания'\"):\n                    page.get_by_role(\"link\", name=\"С Совещания\").click()\n    \n                # Переход в раздел \"Исходящие\"\n                with allure.step(\"Переход в раздел 'Исходящие'\"):\n                    out_link = page.wait_for_selector('text=Исходящие', timeout=10000)\n                    out_link.click()\n                    page.wait_for_load_state('domcontentloaded')  # Ожидание полной загрузки страницы\n                    print(\"Ссылка 'Исходящие' найдена\")\n    \n                # Переход в раздел \"Делопроизводство\"\n                with allure.step(\"Переход в раздел 'Делопроизводство'\"):\n                    delo_link = page.wait_for_selector('text=Делопроизводство', timeout=10000)\n                    delo_link.click()\n                    page.wait_for_load_state('domcontentloaded')  # Ожидание полной загрузки страницы\n                    print(\"Ссылка 'Делопроизводство' найдена\")\n    \n                # Переход в раздел \"Поручения\"\n                with allure.step(\"Переход в раздел 'Поручения'\"):\n                    poruchenia_link = page.wait_for_selector('text=Поручения', timeout=10000)\n>                   poruchenia_link.click()\n\nTests\\test_tasksimple.py:83: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nvenv\\Lib\\site-packages\\playwright\\sync_api\\_generated.py:1974: in click\n    self._sync(\nvenv\\Lib\\site-packages\\playwright\\_impl\\_element_handle.py:132: in click\n    await self._channel.send(\"click\", locals_to_params(locals()))\nvenv\\Lib\\site-packages\\playwright\\_impl\\_connection.py:59: in send\n    return await self._connection.wrap_api_call(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <playwright._impl._connection.Connection object at 0x000001A6DF032BD0>, cb = <function Channel.send.<locals>.<lambda> at 0x000001A6DF0F1C60>, is_internal = False\n\n    async def wrap_api_call(\n        self, cb: Callable[[], Any], is_internal: bool = False\n    ) -> Any:\n        if self._api_zone.get():\n            return await cb()\n        task = asyncio.current_task(self._loop)\n        st: List[inspect.FrameInfo] = getattr(task, \"__pw_stack__\", inspect.stack())\n        parsed_st = _extract_stack_trace_information_from_stack(st, is_internal)\n        self._api_zone.set(parsed_st)\n        try:\n            return await cb()\n        except Exception as error:\n>           raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\nE           playwright._impl._errors.Error: ElementHandle.click: Element is not attached to the DOM\nE           Call log:\nE           attempting click action\nE             -   waiting for element to be visible, enabled and stable\n\nvenv\\Lib\\site-packages\\playwright\\_impl\\_connection.py:514: Error\n\nDuring handling of the above exception, another exception occurred:\n\n    @allure.feature('Делопроизводство')\n    @allure.story('Проверка раздела и списка поручений')\n    @pytest.mark.allure\n    def test_check_delo_and_tasks():\n        with sync_playwright() as p:\n            browser = p.chromium.launch(headless=False)\n            context = browser.new_context()\n            page = context.new_page()\n            page.goto('https://deloros.centrvd.ru/client/#/')\n            page.pause()\n    \n            try:\n                # Авторизация\n                page.fill('#login-user-id', 'a.bardashevich')\n                page.fill('#login-password-id', 'sYSTEM99!')\n                page.click('#loggin-button-id')\n                page.wait_for_load_state('networkidle')\n                page.pause()\n    \n                # Переход в раздел \"Общие папки\"\n                with allure.step(\"Переход в раздел 'Общие папки'\"):\n                    share_link = page.wait_for_selector('text=Общие папки', timeout=10000)\n                    share_link.click()\n                    page.wait_for_load_state('domcontentloaded')  # Ожидание полной загрузки страницы\n                    page.locator(\"#current-context\").get_by_text(\"Общие папки\").nth(1)\n                    print(\"Ссылка 'Общие папки' найдена\")\n    \n                # Переход в раздел \"Избранное\"\n                with allure.step(\"Переход в раздел 'Избранное'\"):\n                    favor_link = page.wait_for_selector('text=Избранное', timeout=10000)\n                    favor_link.click()\n                    page.wait_for_load_state('domcontentloaded')  # Ожидание полной загрузки страницы\n                    print(\"Ссылка 'Избранное' найдена\")\n    \n                # Дополнительные шаги навигации\n                with allure.step(\"Открытие страницы 'Входящие'\"):\n                    page.get_by_role(\"link\", name=\"Входящие\").click()\n    \n                with allure.step(\"Открытие страницы 'На исполнение'\"):\n                    page.get_by_role(\"link\", name=\"На исполнение\").click()\n    \n                with allure.step(\"Открытие страницы 'Исходящие'\"):\n                    page.get_by_role(\"link\", name=\"Исходящие\").click()\n    \n                with allure.step(\"Открытие страницы 'Избранное'\"):\n                    page.get_by_role(\"link\", name=\"Избранное\").click()\n    \n                with allure.step(\"Клик по элементу с id '#favorites-folder-view'\"):\n                    page.locator(\"#favorites-folder-view\").click()\n    \n                with allure.step(\"Клик по ссылке 'Замещение'\"):\n                    page.locator(\"a\").filter(has_text=\"Замещение\").click()\n    \n                with allure.step(\"Открытие страницы 'Д Делопроизводство'\"):\n                    page.get_by_role(\"link\", name=\"Д Делопроизводство\").click()\n    \n                with allure.step(\"Открытие страницы 'С Совещания'\"):\n                    page.get_by_role(\"link\", name=\"С Совещания\").click()\n    \n                # Переход в раздел \"Исходящие\"\n                with allure.step(\"Переход в раздел 'Исходящие'\"):\n                    out_link = page.wait_for_selector('text=Исходящие', timeout=10000)\n                    out_link.click()\n                    page.wait_for_load_state('domcontentloaded')  # Ожидание полной загрузки страницы\n                    print(\"Ссылка 'Исходящие' найдена\")\n    \n                # Переход в раздел \"Делопроизводство\"\n                with allure.step(\"Переход в раздел 'Делопроизводство'\"):\n                    delo_link = page.wait_for_selector('text=Делопроизводство', timeout=10000)\n                    delo_link.click()\n                    page.wait_for_load_state('domcontentloaded')  # Ожидание полной загрузки страницы\n                    print(\"Ссылка 'Делопроизводство' найдена\")\n    \n                # Переход в раздел \"Поручения\"\n                with allure.step(\"Переход в раздел 'Поручения'\"):\n                    poruchenia_link = page.wait_for_selector('text=Поручения', timeout=10000)\n                    poruchenia_link.click()\n                    page.wait_for_load_state('domcontentloaded')  # Ожидание полной загрузки страницы\n                    print(\"Ссылка 'Поручения' найдена\")\n    \n                # Получение списка поручений и их количества\n                with allure.step(\"Получение количества поручений\"):\n                    task_counter = page.wait_for_selector('#grid-rows-counter', timeout=10000)\n                    task_count = task_counter.inner_text()\n                    allure.attach(task_count, name=\"Общее количество поручений\", attachment_type=allure.attachment_type.TEXT)\n                    print(f\"Общее количество поручений: {task_count}\")\n    \n                page.wait_for_timeout(5000)\n    \n            except Exception as e:\n                screenshot = page.screenshot(path=\"screenshot.png\")  # Сохранение скриншота\n>               fail(\"Произошла ошибка при выполнении теста\", screenshot=screenshot, exception_trace=str(e))\n\nTests\\test_tasksimple.py:98: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nparam = 'Произошла ошибка при выполнении теста'\nscreenshot = b'\\x89PNG\\r\\n\\x1a\\n\\x00\\x00\\x00\\rIHDR\\x00\\x00\\x05\\x00\\x00\\x00\\x02\\xd0\\x08\\x02\\x00\\x00\\x00@\\x1fJ\\x01\\x00\\x00\\x00\\x01sRG...\\xe9\\x87\\nc\\xfd\\x0b\\x00\\x00\\x00\\x00\\x00\\x00&\\xf7\\xff\\x01\\xab\\x14\\xa7\\xda\\xec\\x13\\xaf\\x93\\x00\\x00\\x00\\x00IEND\\xaeB`\\x82'\nexception_trace = 'ElementHandle.click: Element is not attached to the DOM\\nCall log:\\nattempting click action\\n  -   waiting for element to be visible, enabled and stable\\n'\n\n    def fail(param, screenshot=None, exception_trace=None):\n        with step(\"Failing step\"):\n            if screenshot:\n                attach(\n                    screenshot,\n                    name=\"Screenshot on failure\",\n                    attachment_type=attachment_type.PNG\n                )\n            if exception_trace:\n                attach(exception_trace, name=\"Exception Trace\", attachment_type=attachment_type.TEXT)\n>           raise AssertionError(f\"Test failed due to: {param}\")\nE           AssertionError: Test failed due to: Произошла ошибка при выполнении теста\n\nvenv\\Lib\\site-packages\\allure.py:56: AssertionError"}, "steps": [{"name": "Переход в раздел 'Общие папки'", "status": "passed", "start": 1718274607240, "stop": 1718274609986}, {"name": "Переход в раздел 'Избранное'", "status": "passed", "start": 1718274609986, "stop": 1718274611759}, {"name": "Открытие страницы 'Входящие'", "status": "passed", "start": 1718274611759, "stop": 1718274614225}, {"name": "Открытие страницы 'На исполнение'", "status": "passed", "start": 1718274614225, "stop": 1718274616178}, {"name": "Открытие страницы 'Исходящие'", "status": "passed", "start": 1718274616178, "stop": 1718274622914}, {"name": "Открытие страницы 'Избранное'", "status": "passed", "start": 1718274622914, "stop": 1718274625024}, {"name": "Клик по элементу с id '#favorites-folder-view'", "status": "passed", "start": 1718274625024, "stop": 1718274630071}, {"name": "Клик по ссылке 'Замещение'", "status": "passed", "start": 1718274630072, "stop": 1718274633531}, {"name": "Открытие страницы 'Д Делопроизводство'", "status": "passed", "start": 1718274633531, "stop": 1718274636050}, {"name": "Открытие страницы 'С Совещания'", "status": "passed", "start": 1718274636050, "stop": 1718274637409}, {"name": "Переход в раздел 'Исходящие'", "status": "passed", "start": 1718274637410, "stop": 1718274640327}, {"name": "Переход в раздел 'Делопроизводство'", "status": "passed", "start": 1718274640328, "stop": 1718274640627}, {"name": "Переход в раздел 'Поручения'", "status": "broken", "statusDetails": {"message": "playwright._impl._errors.Error: ElementHandle.click: Element is not attached to the DOM\nCall log:\nattempting click action\n  -   waiting for element to be visible, enabled and stable\n\n", "trace": "  File \"C:\\Users\\admin\\PycharmProjects\\DelRu\\Tests\\test_tasksimple.py\", line 83, in test_check_delo_and_tasks\n    poruchenia_link.click()\n  File \"C:\\Users\\admin\\PycharmProjects\\DelRu\\venv\\Lib\\site-packages\\playwright\\sync_api\\_generated.py\", line 1974, in click\n    self._sync(\n  File \"C:\\Users\\admin\\PycharmProjects\\DelRu\\venv\\Lib\\site-packages\\playwright\\_impl\\_sync_base.py\", line 115, in _sync\n    return task.result()\n           ^^^^^^^^^^^^^\n  File \"C:\\Users\\admin\\PycharmProjects\\DelRu\\venv\\Lib\\site-packages\\playwright\\_impl\\_element_handle.py\", line 132, in click\n    await self._channel.send(\"click\", locals_to_params(locals()))\n  File \"C:\\Users\\admin\\PycharmProjects\\DelRu\\venv\\Lib\\site-packages\\playwright\\_impl\\_connection.py\", line 59, in send\n    return await self._connection.wrap_api_call(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\admin\\PycharmProjects\\DelRu\\venv\\Lib\\site-packages\\playwright\\_impl\\_connection.py\", line 514, in wrap_api_call\n    raise rewrite_error(error, f\"{parsed_st['apiName']}: {error}\") from None\n"}, "start": 1718274640627, "stop": 1718274640769}, {"name": "Failing step", "status": "failed", "statusDetails": {"message": "AssertionError: Test failed due to: Произошла ошибка при выполнении теста\n", "trace": "  File \"C:\\Users\\admin\\PycharmProjects\\DelRu\\venv\\Lib\\site-packages\\allure.py\", line 56, in fail\n    raise AssertionError(f\"Test failed due to: {param}\")\n"}, "attachments": [{"name": "Screenshot on failure", "source": "31468d31-3cd5-445f-92e0-801aef297aa7-attachment.png", "type": "image/png"}, {"name": "Exception Trace", "source": "08c8d92f-2e54-44f3-b59a-e75cea9e1449-attachment.txt", "type": "text/plain"}], "start": 1718274641004, "stop": 1718274641005}], "start": 1718274582083, "stop": 1718274641677, "uuid": "5cc0deeb-901a-4169-bf89-a7ee4cc267b5", "historyId": "b36db2add8c740423b6802958bba589e", "testCaseId": "b36db2add8c740423b6802958bba589e", "fullName": "Tests.test_tasksimple#test_check_delo_and_tasks", "labels": [{"name": "feature", "value": "Делопроизводство"}, {"name": "story", "value": "Проверка раздела и списка поручений"}, {"name": "tag", "value": "allure"}, {"name": "parentSuite", "value": "Tests"}, {"name": "suite", "value": "test_tasksimple"}, {"name": "host", "value": "DESKTOP-B17VF3R"}, {"name": "thread", "value": "14488-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "Tests.test_tasksimple"}]}